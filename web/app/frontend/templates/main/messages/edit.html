{% extends 'common/home.html' %}

{% block content %}
<h1>Message Editing</h1>

{% if messages %}
<form method="post" action="{% url 'messages_edit' messages.id %}">
  {% csrf_token %}

  <div class="form-group row">
    <label class="col-sm-2">Id:</label>
    <div class="col-sm-10">
      <input class="form-control" type="number" name="id" value="{{ messages.id }}" readonly>
    </div>
  </div>

  <div class="form-group row">
    <label class="col-sm-2">Name:</label>
    <div class="col-sm-10">
      <input class="form-control" name="name" value="{{ messages.name }}" readonly>
      {% if messageNameError %}
      <div class="text-warning">{{ messageNameError }}</div>
      {% endif %}
    </div>
  </div>

  <div class="form-group row">
    <label class="col-sm-2">Description:</label>
    <div class="col-sm-10">
      <input class="form-control" name="description" value="{{ messages.description }}">
      {% if messageDescriptionError %}
      <div class="text-warning">{{ messageDescriptionError }}</div>
      {% endif %}
    </div>
  </div>

  <div class="form-group row">
    <label class="col-sm-2">Text:</label>
    <div class="col-sm-10">
      <textarea class="form-control" name="text" rows="8">{{ messages.text }}</textarea>
      {% if messageTextError %}
      <div class="text-warning">{{ messageTextError }}</div>
      {% endif %}
    </div>
  </div>

  <button class="btn btn-success" type="submit">Update</button>
</form>

<form method="get" action="{% url 'messages_list' %}">
  <button class="btn btn-info" type="submit">Back</button>
</form>

{% else %}
<div class="alert alert-danger" role="alert">
  <h4 class="alert-heading">Error</h4>
  <hr>This message does not exist!
</div>
{% endif %}

{% endblock %}