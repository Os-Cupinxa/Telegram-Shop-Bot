{% load static %}

<div class="mt-5">
    <h1>Order Items</h1>
    <table id="items" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>Name</th>
                <th>Quantity</th>
                <th>Product Price</th>
                <th>Total Price</th>
            </tr>
        </thead>
        <tbody>
            {% for item in order.items.all %}
                <input type="hidden" name="items[{{ forloop.counter0 }}].id" value="{{ item.id }}">
                <input type="hidden" name="items[{{ forloop.counter0 }}].order" value="{{ order.id }}">
                {% if item.product %}
                    <input type="hidden" name="items[{{ forloop.counter0 }}].product" value="{{ item.product.id }}">
                {% endif %}
                <input type="hidden" name="items[{{ forloop.counter0 }}].quantity" value="{{ item.quantity }}">
                <input type="hidden" name="items[{{ forloop.counter0 }}].productName" value="{{ item.productName }}">
                <input type="hidden" name="items[{{ forloop.counter0 }}].productPrice" value="{{ item.productPrice }}">
                
                <tr>
                    <td>{{ item.productName }}</td>
                    <td>{{ item.quantity }} pcs.</td>
                    <td>{{ item.productPrice }} $</td>
                    <td>{{ item.total_price }} $</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
